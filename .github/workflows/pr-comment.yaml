name: Pull Request Comment
on:
    pull_request_target:
        types: [opened]
jobs:
    pr-comment:
        runs-on: ubuntu-latest
        steps:
            - name: Comment on New PRs
              # octokit.github.io/rest.js
              uses: actions/github-script@v7
              # github tokenì„ ê¸°ë³¸ì ìœ¼ë¡œ ë°œê¸‰í•´ì£¼ì§€ë§Œ write ê¶Œí•œì´ ì—†ìŒ
              # settings -> repository -> action -> general -> GITHUB_TOKEN -> Read and write permissions
              with:
                  # script inputì´ê¸°ì— with ì‚¬ìš©
                  script: |
                      // PRì— ì½”ë©˜íŠ¸ ë‹¬ê¸°
                      await github.rest.issues.createComment({
                      owner: context.repo.owner,
                      repo: context.repo.repo,
                      issue_number: context.payload.pull_request.number,
                      body: `## ğŸ‰ PRì´ ì˜¬ë¼ì™”ì–´ìš”!

                      **ë¸Œëœì¹˜**: \`${context.payload.pull_request.head.ref}\`
                      **ì‘ì„±ì**: @${context.payload.pull_request.user.login}

                      ### ì²´í¬ë¦¬ìŠ¤íŠ¸
                      - [ ] ì½”ë“œ ë¦¬ë·°
                      - [ ] í…ŒìŠ¤íŠ¸ í†µê³¼
                      - [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸

                      > ğŸ¤– ìë™ ìƒì„±ëœ ë©”ì‹œì§€ì…ë‹ˆë‹¤.`
                      })

                      // PRì— ë¦¬ì•¡ì…˜(ì´ëª¨ì§€) ë‹¬ê¸°
                      await github.rest.reactions.createForIssue({
                      owner: context.repo.owner,
                      repo: context.repo.repo,
                      issue_number: context.payload.pull_request.number,
                      content: 'rocket'  // ğŸš€
                      })
